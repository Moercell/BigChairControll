<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Big Chair</title>
</head>
<body>
<h1>Die Stuhlsteuerung</h1>

<div class="button-controll-pannel">
    <div></div>
    <button ontouchstart="move('front')" ontouchend="stop()" type="button" data-action="moveFront">move to front</button>
    <div></div>
    <button ontouchstart="move('left')" ontouchend="stop()" type="button" data-action="moveLeft">turn around left</button>
    <button ontouchstart="stop()" ontouchend="stop()" type="button" data-action="moveStop">stop!</button>
    <button ontouchstart="move('right')" ontouchend="stop()" type="button" data-action="moveRight">turn around right</button>
    <div></div>
    <button ontouchstart="move('back')" ontouchend="stop()" type="button" data-action="moveBack">move to back</button>
    <div></div>
</div>

<style>
    body {
        background-color: #323f48;
        padding: 1em;
    }

    h1 {
        color: white;
        font-family: sans-serif;
    }

    .button-controll-pannel {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        grid-template-rows: 1fr 1fr 1fr;
        grid-column-gap: 1em;
        grid-row-gap: 1em;
        width: 90%;
        height: 31vh;
        margin-top: 30vh;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: auto;
    }

    button {
        padding: 2.2em 4.2em;
        background-color: #e86473;
        color: white;
        border: none;
        box-shadow: none;
        border-radius: 12px;
        font-family: sans-serif;
        font-weight: bold;
        font-size: 1em;
        margin-top: 0.2em;
    }

    button:hover {
        padding: 2.2em 4.2em;
        background-color: #ED5973;
        border: none;
        border-radius: 12px;
        transform: scaleY(1.1);
        box-shadow: 4px 6px 18px -9px rgba(0, 0, 0, 0.75);
    }
</style>

<script src="hammer.js""></script>
<script>

const chairSocketConnection = new WebSocket("ws://10.51.3.66:6969");

chairSocketConnection.onopen = function () {
    console.log("Connected to chair!");
};

function actionLeft() {
    sendMessage({action: 'move', direction: 'left'});
}

function actionRight() {
    sendMessage({action: 'move', direction: 'right'});
}

function actionFront() {
    sendMessage({action: 'move', direction: 'front'});
}

function actionBack() {
    sendMessage({action: 'move', direction: 'back'});
}

function actionStop() {
    sendMessage({action: 'move', direction: 'stop'});
}

function move(x) {
    if (x == 'front'){
        actionFront();
    }
    else if(x == 'left'){
        actionLeft();
    }
    else if(x == 'right'){
        actionRight();
    }
    else if(x == 'back'){
        actionBack();
    }

}
function stop() {
    actionStop();
}


function sendMessage(message) {
    console.log('socket send bytes:', message);
    chairSocketConnection.send(JSON.stringify(message));
}
</script>

</body>
</html>